<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/head" />
<body>
	<style>
      #map {
        height: 500px;
        width: 100%;
       }
    </style>
	<nav th:replace="fragments/nav" />
	<div id="map" ></div>
    <script th:inline="javascript">
    /*<![CDATA[*/
      function initMap() {
        var madrid = {lat: 40.4167, lng:  -3.70325};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: madrid
        });
        
        var incidencias = [[${incidencias}]];
        incidencias.forEach(function(element) {
        	var marker = new google.maps.Marker({
		        position: new google.maps.LatLng(element.latitud,  element.longitud),
		        map: map,
		        title: element.name
        	});
        });
            
      }
      /*]]>*/
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAItnywgCdQAG1MrmgE4rIoBnMSmzpmTL8&callback=initMap">
    </script>
	<footer th:replace="fragments/footer" />
</body>
</html>